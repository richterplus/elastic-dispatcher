<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1328px" preserveAspectRatio="none" style="width:783px;height:1328px;" version="1.1" viewBox="0 0 783 1328" width="783px" zoomAndPan="magnify"><defs><filter height="300%" id="fh8415wj0j6xz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="365.625" cy="20" fill="#000000" filter="url(#fh8415wj0j6xz)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="215" x="258.125" y="94"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="195" x="268.125" y="115.6016">获取所有可以开始的任务 -&gt; jobList</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="242" x="244.625" y="148.1328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="222" x="254.625" y="169.7344">对jobList按优先级排序 -&gt; sortedJobList</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="235.625" y="246.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="240" x="245.625" y="267.8672">从sortedJobList取出一个元素 -&gt; sortedJob</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="289.625" y="300.3984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="299.625" y="322">分配一个新线程并行执行</text><rect fill="#000000" filter="url(#fh8415wj0j6xz)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="711.25" x="10" y="354.5313"/><ellipse cx="560.25" cy="390.5313" fill="#000000" filter="url(#fh8415wj0j6xz)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#fh8415wj0j6xz)" points="460.25,420.5313,660.25,420.5313,672.25,432.5313,660.25,444.5313,460.25,444.5313,448.25,432.5313,460.25,420.5313" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="460.25" y="436.6885">总调度器</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="55" x="504.25" y="436.6885">当前调度数</text><line style="stroke: #000000; stroke-width: 1.0;" x1="504.25" x2="559.25" y1="438.6885" y2="438.6885"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="562.25" y="436.6885">+ 1 &lt;=</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="55" x="605.25" y="436.6885">最大调度数</text><line style="stroke: #000000; stroke-width: 1.0;" x1="605.25" x2="660.25" y1="438.6885" y2="438.6885"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="430.25" y="430.2109">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="672.25" y="430.2109">no</text><polygon fill="#FEFECE" filter="url(#fh8415wj0j6xz)" points="306.75,454.5313,569.75,454.5313,581.75,466.5313,569.75,478.5313,306.75,478.5313,294.75,466.5313,306.75,454.5313" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="306.75" y="470.6885">sortedJob对应工作者</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="55" x="413.75" y="470.6885">当前调度数</text><line style="stroke: #000000; stroke-width: 1.0;" x1="413.75" x2="468.75" y1="472.6885" y2="472.6885"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="471.75" y="470.6885">+ 1 &lt;=</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="55" x="514.75" y="470.6885">最大调度数</text><line style="stroke: #000000; stroke-width: 1.0;" x1="514.75" x2="569.75" y1="472.6885" y2="472.6885"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="276.75" y="464.2109">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="581.75" y="464.2109">no</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="198.75" y="488.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="152" x="208.75" y="510.1328">设置sortedJob状态为已开始</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="236" x="166.75" y="546.1641"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="176.75" y="567.7656">通知客户端应用程序任务开始并执行任务</text><polygon fill="#FEFECE" filter="url(#fh8415wj0j6xz)" points="262.75,600.2969,306.75,600.2969,318.75,612.2969,306.75,624.2969,262.75,624.2969,250.75,612.2969,262.75,600.2969" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="262.75" y="616.4541">发生异常</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="18" x="232.75" y="609.9766">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="318.75" y="609.9766">no</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="54" y="634.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="64" y="655.8984">sortedJob</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="48" x="120" y="655.8984">重试次数</text><line style="stroke: #000000; stroke-width: 1.0;" x1="120" x2="168" y1="657.8984" y2="657.8984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="30" x="168" y="655.8984">+1，</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="24" x="198" y="655.8984">状态</text><line style="stroke: #000000; stroke-width: 1.0;" x1="198" x2="222" y1="657.8984" y2="657.8984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="46" x="222" y="655.8984">=未开始</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="211" x="298" y="634.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="116" x="308" y="655.8984">sortedJob对应工作者</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="60" x="424" y="655.8984">当前调度数</text><line style="stroke: #000000; stroke-width: 1.0;" x1="424" x2="484" y1="657.8984" y2="657.8984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="15" x="484" y="655.8984">-1</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="332" y="688.4297"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="342" y="710.0313">总调度器</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="60" x="390" y="710.0313">当前调度数</text><line style="stroke: #000000; stroke-width: 1.0;" x1="390" x2="450" y1="712.0313" y2="712.0313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="15" x="450" y="710.0313">-1</text><polygon fill="#FEFECE" filter="url(#fh8415wj0j6xz)" points="284.75,728.5625,296.75,740.5625,284.75,752.5625,272.75,740.5625,284.75,728.5625" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="284.75" cy="782.5625" fill="#FFFFFF" filter="url(#fh8415wj0j6xz)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="278.5628" x2="290.9372" y1="776.3753" y2="788.7497"/><line style="stroke: #000000; stroke-width: 2.5;" x1="290.9372" x2="278.5628" y1="776.3753" y2="788.7497"/><ellipse cx="591.75" cy="498.5313" fill="#FFFFFF" filter="url(#fh8415wj0j6xz)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="585.5628" x2="597.9372" y1="492.3441" y2="504.7184"/><line style="stroke: #000000; stroke-width: 2.5;" x1="597.9372" x2="585.5628" y1="492.3441" y2="504.7184"/><ellipse cx="682.25" cy="464.5313" fill="#FFFFFF" filter="url(#fh8415wj0j6xz)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="676.0628" x2="688.4372" y1="458.3441" y2="470.7184"/><line style="stroke: #000000; stroke-width: 2.5;" x1="688.4372" x2="676.0628" y1="458.3441" y2="470.7184"/><rect fill="#000000" filter="url(#fh8415wj0j6xz)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="711.25" x="10" y="802.5625"/><polygon fill="#FEFECE" filter="url(#fh8415wj0j6xz)" points="365.625,202.2656,377.625,214.2656,365.625,226.2656,353.625,214.2656,365.625,202.2656" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fh8415wj0j6xz)" points="313.625,828.5625,417.625,828.5625,429.625,840.5625,417.625,852.5625,313.625,852.5625,301.625,840.5625,313.625,828.5625" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="313.625" y="844.7197">sortedJobList不为空</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="233" x="249.125" y="872.5625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="213" x="259.125" y="894.1641">获取所有已超时的任务 -&gt; timeoutJobs</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="259" x="236.125" y="970.6953"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="239" x="246.125" y="992.2969">从timeoutJobs取出一个元素 -&gt; timeoutJob</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="295.625" y="1024.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="305.625" y="1046.4297">timeoutJob</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="24" x="367.625" y="1046.4297">状态</text><line style="stroke: #000000; stroke-width: 1.0;" x1="367.625" x2="391.625" y1="1048.4297" y2="1048.4297"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="34" x="391.625" y="1046.4297">=超时</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="217" x="257.125" y="1086.4609"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="267.125" y="1108.0625">timeoutJob对应工作者</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="60" x="389.125" y="1108.0625">当前调度数</text><line style="stroke: #000000; stroke-width: 1.0;" x1="389.125" x2="449.125" y1="1110.0625" y2="1110.0625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="15" x="449.125" y="1108.0625">-1</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="294.125" y="1140.5938"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="304.125" y="1162.1953">总调度器</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="60" x="352.125" y="1162.1953">当前调度数</text><line style="stroke: #000000; stroke-width: 1.0;" x1="352.125" x2="412.125" y1="1164.1953" y2="1164.1953"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="15" x="412.125" y="1162.1953">-1</text><polygon fill="#FEFECE" filter="url(#fh8415wj0j6xz)" points="365.625,926.6953,377.625,938.6953,365.625,950.6953,353.625,938.6953,365.625,926.6953" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fh8415wj0j6xz)" points="317.125,1194.7266,414.125,1194.7266,426.125,1206.7266,414.125,1218.7266,317.125,1218.7266,305.125,1206.7266,317.125,1194.7266" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="317.125" y="1210.8838">timeoutJobs不为空</text><rect fill="#FEFECE" filter="url(#fh8415wj0j6xz)" height="34.1328" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="321.625" y="1238.7266"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="331.625" y="1260.3281">等待tick毫秒</text><polygon fill="#FEFECE" filter="url(#fh8415wj0j6xz)" points="365.625,50,377.625,62,365.625,74,353.625,62,365.625,50" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fh8415wj0j6xz)" points="365.625,1292.8594,365.625,1292.8594,377.625,1304.8594,365.625,1316.8594,365.625,1316.8594,353.625,1304.8594,365.625,1292.8594" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="128.1328" y2="148.1328"/><polygon fill="#A80036" points="361.625,138.1328,365.625,148.1328,369.625,138.1328,365.625,142.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="280.3984" y2="300.3984"/><polygon fill="#A80036" points="361.625,290.3984,365.625,300.3984,369.625,290.3984,365.625,294.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="284.75" x2="284.75" y1="522.6641" y2="546.1641"/><polygon fill="#A80036" points="280.75,536.1641,284.75,546.1641,288.75,536.1641,284.75,540.1641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.5" x2="403.5" y1="668.4297" y2="688.4297"/><polygon fill="#A80036" points="399.5,678.4297,403.5,688.4297,407.5,678.4297,403.5,682.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="250.75" x2="166" y1="612.2969" y2="612.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="166" x2="166" y1="612.2969" y2="634.2969"/><polygon fill="#A80036" points="162,624.2969,166,634.2969,170,624.2969,166,628.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="318.75" x2="403.5" y1="612.2969" y2="612.2969"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.5" x2="403.5" y1="612.2969" y2="634.2969"/><polygon fill="#A80036" points="399.5,624.2969,403.5,634.2969,407.5,624.2969,403.5,628.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="166" x2="166" y1="668.4297" y2="740.5625"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="166" x2="272.75" y1="740.5625" y2="740.5625"/><polygon fill="#A80036" points="262.75,736.5625,272.75,740.5625,262.75,744.5625,266.75,740.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.5" x2="403.5" y1="722.5625" y2="740.5625"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.5" x2="296.75" y1="740.5625" y2="740.5625"/><polygon fill="#A80036" points="306.75,736.5625,296.75,740.5625,306.75,744.5625,302.75,740.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="284.75" x2="284.75" y1="580.2969" y2="600.2969"/><polygon fill="#A80036" points="280.75,590.2969,284.75,600.2969,288.75,590.2969,284.75,594.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="284.75" x2="284.75" y1="752.5625" y2="772.5625"/><polygon fill="#A80036" points="280.75,762.5625,284.75,772.5625,288.75,762.5625,284.75,766.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="294.75" x2="284.75" y1="466.5313" y2="466.5313"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="284.75" x2="284.75" y1="466.5313" y2="488.5313"/><polygon fill="#A80036" points="280.75,478.5313,284.75,488.5313,288.75,478.5313,284.75,482.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="581.75" x2="591.75" y1="466.5313" y2="466.5313"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="591.75" x2="591.75" y1="466.5313" y2="488.5313"/><polygon fill="#A80036" points="587.75,478.5313,591.75,488.5313,595.75,478.5313,591.75,482.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="448.25" x2="438.25" y1="432.5313" y2="432.5313"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="438.25" x2="438.25" y1="432.5313" y2="454.5313"/><polygon fill="#A80036" points="434.25,444.5313,438.25,454.5313,442.25,444.5313,438.25,448.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="672.25" x2="682.25" y1="432.5313" y2="432.5313"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="682.25" x2="682.25" y1="432.5313" y2="454.5313"/><polygon fill="#A80036" points="678.25,444.5313,682.25,454.5313,686.25,444.5313,682.25,448.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="560.25" x2="560.25" y1="400.5313" y2="420.5313"/><polygon fill="#A80036" points="556.25,410.5313,560.25,420.5313,564.25,410.5313,560.25,414.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="560.25" x2="560.25" y1="360.5313" y2="380.5313"/><polygon fill="#A80036" points="556.25,370.5313,560.25,380.5313,564.25,370.5313,560.25,374.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="334.5313" y2="354.5313"/><polygon fill="#A80036" points="361.625,344.5313,365.625,354.5313,369.625,344.5313,365.625,348.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="226.2656" y2="246.2656"/><polygon fill="#A80036" points="361.625,236.2656,365.625,246.2656,369.625,236.2656,365.625,240.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="429.625" x2="733.25" y1="840.5625" y2="840.5625"/><polygon fill="#A80036" points="729.25,542.6641,733.25,532.6641,737.25,542.6641,733.25,538.6641" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="733.25" x2="733.25" y1="214.2656" y2="840.5625"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="733.25" x2="377.625" y1="214.2656" y2="214.2656"/><polygon fill="#A80036" points="387.625,210.2656,377.625,214.2656,387.625,218.2656,383.625,214.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="808.5625" y2="828.5625"/><polygon fill="#A80036" points="361.625,818.5625,365.625,828.5625,369.625,818.5625,365.625,822.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="182.2656" y2="202.2656"/><polygon fill="#A80036" points="361.625,192.2656,365.625,202.2656,369.625,192.2656,365.625,196.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="852.5625" y2="872.5625"/><polygon fill="#A80036" points="361.625,862.5625,365.625,872.5625,369.625,862.5625,365.625,866.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="1004.8281" y2="1024.8281"/><polygon fill="#A80036" points="361.625,1014.8281,365.625,1024.8281,369.625,1014.8281,365.625,1018.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="1058.9609" y2="1086.4609"/><polygon fill="#A80036" points="361.625,1076.4609,365.625,1086.4609,369.625,1076.4609,365.625,1080.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="1120.5938" y2="1140.5938"/><polygon fill="#A80036" points="361.625,1130.5938,365.625,1140.5938,369.625,1130.5938,365.625,1134.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="950.6953" y2="970.6953"/><polygon fill="#A80036" points="361.625,960.6953,365.625,970.6953,369.625,960.6953,365.625,964.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="426.125" x2="507.125" y1="1206.7266" y2="1206.7266"/><polygon fill="#A80036" points="503.125,1078.9609,507.125,1068.9609,511.125,1078.9609,507.125,1074.9609" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="507.125" x2="507.125" y1="938.6953" y2="1206.7266"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="507.125" x2="377.625" y1="938.6953" y2="938.6953"/><polygon fill="#A80036" points="387.625,934.6953,377.625,938.6953,387.625,942.6953,383.625,938.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="1174.7266" y2="1194.7266"/><polygon fill="#A80036" points="361.625,1184.7266,365.625,1194.7266,369.625,1184.7266,365.625,1188.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="906.6953" y2="926.6953"/><polygon fill="#A80036" points="361.625,916.6953,365.625,926.6953,369.625,916.6953,365.625,920.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="1218.7266" y2="1238.7266"/><polygon fill="#A80036" points="361.625,1228.7266,365.625,1238.7266,369.625,1228.7266,365.625,1232.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="74" y2="94"/><polygon fill="#A80036" points="361.625,84,365.625,94,369.625,84,365.625,88" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="377.625" x2="757.25" y1="1304.8594" y2="1304.8594"/><polygon fill="#A80036" points="753.25,722.9297,757.25,712.9297,761.25,722.9297,757.25,718.9297" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="757.25" x2="757.25" y1="62" y2="1304.8594"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="757.25" x2="377.625" y1="62" y2="62"/><polygon fill="#A80036" points="387.625,58,377.625,62,387.625,66,383.625,62" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="1272.8594" y2="1292.8594"/><polygon fill="#A80036" points="361.625,1282.8594,365.625,1292.8594,369.625,1282.8594,365.625,1286.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="365.625" x2="365.625" y1="30" y2="50"/><polygon fill="#A80036" points="361.625,40,365.625,50,369.625,40,365.625,44" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
start
repeat
  :获取所有可以开始的任务 -> jobList;
  :对jobList按优先级排序 -> sortedJobList;
  repeat
    :从sortedJobList取出一个元素 -> sortedJob;
    :分配一个新线程并行执行;
    fork
      start
      if (总调度器__当前调度数__ + 1 <= __最大调度数__) then (yes)
        if (sortedJob对应工作者__当前调度数__ + 1 <= __最大调度数__) then (yes)
          :设置sortedJob状态为已开始;
          :通知客户端应用程序任务开始并执行任务;
          if (发生异常) then (yes)
            :sortedJob__重试次数__+1，__状态__=未开始;
          else (no)
            :sortedJob对应工作者__当前调度数__-1;
            :总调度器__当前调度数__-1;
          endif
          end
        else (no)
          end
        endif
      else (no)
        end
      endif
    end fork
  repeat while(sortedJobList不为空)
  :获取所有已超时的任务 -> timeoutJobs;
  repeat
    :从timeoutJobs取出一个元素 -> timeoutJob;
    :timeoutJob__状态__=超时;
    :timeoutJob对应工作者__当前调度数__-1;
    :总调度器__当前调度数__-1;
  repeat while(timeoutJobs不为空)
  :等待tick毫秒;
repeat while()
@enduml

PlantUML version 1.2018.03(Fri Apr 06 00:59:15 CST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_144-b01
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>